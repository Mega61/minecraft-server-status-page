# Dockerfile for Auto-Shutdown Monitor
# Lightweight container that monitors Minecraft server activity

FROM node:20-alpine

WORKDIR /app

# Copy package files
COPY package.json package-lock.json* ./

# Install dependencies (including tsx for running TypeScript)
RUN npm ci --registry=https://registry.npmjs.org/

# Copy necessary source files
COPY scripts/ ./scripts/
COPY lib/ ./lib/

# Run the auto-shutdown script
CMD ["npm", "run", "auto-shutdown"]
